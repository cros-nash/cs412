<!-- voter_analytics/search.html -->

<h3>Search Form</h3>
<form action="{% url 'voters' %}" method="get">
    <table>
        <tr>
            <th>Party Affiliation:</th>
            <td>
                <select name="party">
                    <option value="">All</option>
                    {% for p in parties %}
                    <option value="{{ p }}" {% if current_filters.party == p %}selected{% endif %}>{{ p }}</option>
                    {% endfor %}
                </select>
            </td>
        </tr>
        <tr>
            <th>Minimum Date of Birth (Year):</th>
            <td>
                <select name="min_dob">
                    <option value="">Any</option>
                    {% for y in years %}
                    <option value="{{ y }}" {% if current_filters.min_dob == y|stringformat:"s" %}selected{% endif %}>{{ y }}</option>
                    {% endfor %}
                </select>
            </td>
        </tr>
        <tr>
            <th>Maximum Date of Birth (Year):</th>
            <td>
                <select name="max_dob">
                    <option value="">Any</option>
                    {% for y in years %}
                    <option value="{{ y }}" {% if current_filters.max_dob == y|stringformat:"s" %}selected{% endif %}>{{ y }}</option>
                    {% endfor %}
                </select>
            </td>
        </tr>
        <tr>
            <th>Voter Score:</th>
            <td>
                <select name="voter_score">
                    <option value="">Any</option>
                    {% for vs in voter_scores %}
                    <option value="{{ vs }}" {% if current_filters.voter_score == vs|stringformat:"s" %}selected{% endif %}>{{ vs }}</option>
                    {% endfor %}
                </select>
            </td>
        </tr>
        <tr>
            <th>Voted in Elections:</th>
            <td>
                {% for election in elections %}
                <input type="checkbox" name="{{ election }}" value="Y" {% if election in current_filters %}checked{% endif %}> {{ election|title }}<br>
                {% endfor %}
            </td>
        </tr>
        <tr>
            <td><input type="submit" value="Search"></td>
        </tr>
    </table>
</form>
